/* style.css — cards: NO default halo/shadow, only on hover/focus */

/* ===== Design tokens – black-to-charcoal scale ===== */
:root{
  /* page background = real black */
  --bg:#000000;

  /* cards / panels = very dark charcoal */
  --panel:rgba(22,22,22,0.78);   /* #161616 + slight transparency */

  /* text colours – keep the same contrast */
  --muted:#a8aeb3;
  --muted-2:#939ca3;
  --text:#f2f2f2;

  /* accent stays orange */
  --accent:#ff6b00;
  --accent-strong:#ff4500;

  /* rest untouched */
  --radius:8px;
  --container:1100px;
  --focus:3px rgba(255,107,0,0.15);
}

/* ---------- Reset & base ---------- */
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;background:var(--bg);color:var(--text);line-height:1.5}
a{color:var(--muted);text-decoration:none}
a:hover{color:var(--accent)}
.container{max-width:var(--container);margin:0 auto;padding:0 1rem}
.skip-link{position:absolute;left:-999px;top:auto;width:1px;height:1px;overflow:hidden}
.skip-link:focus{left:1rem;top:1rem;width:auto;height:auto;background:#111;padding:.5rem .75rem;border-radius:6px;z-index:9999;color:var(--text)}

/* ---------- Background blobs + noise ---------- */
.animated-bg{position:fixed;inset:0;z-index:-2;overflow:hidden;background:var(--bg)}
.animated-bg::before,.animated-bg::after{
  content:"";position:absolute;inset:-80%;width:260%;height:260%;
  background:
    radial-gradient(circle at 20% 20%, rgba(255,107,0,0.14) 0%, transparent 35%),
    radial-gradient(circle at 80% 80%, rgba(0,150,255,0.10) 0%, transparent 35%);
  filter:blur(80px);animation:move 28s linear infinite;will-change:transform}
.animated-bg::after{animation-delay:-14s}
.noise{position:absolute;inset:0;opacity:.03;background:url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg '%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");pointer-events:none}
@keyframes move{0%{transform:translate(0,0) rotate(0)}50%{transform:translate(-3%,4%) rotate(180deg)}100%{transform:translate(0,0) rotate(360deg)}}

/* ---------- Header ---------- */
header.site-header{position:fixed;top:0;width:100%;background:rgba(12,12,12,0.68);backdrop-filter:blur(8px);z-index:1000;box-shadow:0 2px 8px rgba(0,0,0,.4)}
.header-inner{display:flex;align-items:center;justify-content:space-between;padding:.85rem 1rem}

.hamburger{display:none;background:transparent;border:0;color:var(--text);font-size:1.3rem}
nav.nav ul{display:flex;gap:1.2rem;list-style:none;margin:0;padding:0}
nav.nav a{padding:.25rem .25rem;color:var(--muted)}
nav.nav a:hover{color:var(--accent)}

/* ---------- HERO ---------- */
.hero{min-height:72vh;padding:85px 0 3.5rem;display:flex;align-items:center;justify-content:center;text-align:center;position:relative}
.hero-inner{max-width:960px;margin:0 auto}
.hero-avatar{width:130px;height:130px;border-radius:50%;object-fit:cover;border:3px solid var(--accent);display:block;margin:0 auto 1rem}
h1{font-size:2rem;margin:.25rem 0}
.highlight{color:var(--text)}
.tagline{color:var(--muted);margin:0 0 1rem}
#typewrite{font-family:"Courier New", Courier, monospace;color:#e6eef6;min-height:2.2rem;font-size:1.12rem}
.hero-divider{display:flex;align-items:center;justify-content:center;gap:12px;margin:1rem 0;pointer-events:none}
.hero-divider .line{width:170px;height:2px;background:linear-gradient(90deg,transparent,var(--accent),transparent)}
.chess-chip{background: rgba(255,255,255,0.04);backdrop-filter: blur(6px);padding:10px;border-radius:10px;display:inline-flex;align-items:center;justify-content:center;box-shadow: 0 6px 18px rgba(0,0,0,0.45);transform: translateY(0);}
.chess-icon{color:var(--accent);font-size:20px}
.hero-cta{display:grid;grid-template-columns:1fr;gap:12px;margin-top:1.5rem;justify-items:center}
.btn-hero{display:flex;align-items:center;justify-content:center;gap:.5rem;padding:.6rem 1rem;border-radius:28px;font-weight:700;min-height:52px}
.btn-primary{background:linear-gradient(135deg,var(--accent-strong),var(--accent));color:#fff;border:1px solid rgba(255,255,255,0.03);box-shadow:0 10px 26px rgba(255,107,0,0.07)}
.btn-hero:focus{outline:none;box-shadow:var(--focus)}
.btn-hero:hover{transform:translateY(-2px)}

/* ---------- SECTIONS & CARDS ---------- */
.section{padding:40px 0}
.section-title{text-align:center;margin-bottom:40px;font-size:1.6rem;font-weight:400;color:#fff}
.cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:1.25rem}
.card{background:var(--panel);border-radius:var(--radius);padding:1rem;display:flex;flex-direction:column;min-height:140px;transition:transform .18s,border-color .18s,box-shadow .22s;position:relative;overflow:visible;border:2px solid transparent}
.card:hover{transform:translateY(-6px)}
.card-icon{font-size:1.3rem;color:var(--accent);text-align:center;padding-top:.6rem}
.card-body{flex:1;padding:.6rem 0;text-align:center;color:var(--muted-2)}
#services .card-body h3, #portfolio .card-body h3, #articles .card-body h3 {text-decoration:none;font-size:1.05rem;font-weight:600;color:#fff;margin:.2rem 0}
.card-body p{font-size:.95rem;color:#dbe7ef}
.card-actions{text-align:center;padding-top:.6rem}
.cta-secondary{display:inline-block;padding:.5rem 1rem;border-radius:999px;border:1px solid rgba(255,255,255,0.04);color:var(--muted-2);background:transparent}
.cta-secondary:hover{border-color:var(--accent);color:var(--accent)}
.card-actions .service-btn, .card-actions a.service-btn, button.service-btn{background:#2f2f2f;color:var(--accent);border:1px solid rgba(255,255,255,0.04);padding:.5rem 1rem;border-radius:999px;font-weight:700}
.card-actions .service-btn:hover, .card-actions a.service-btn:hover, button.service-btn:hover{background:#444;color:var(--accent);border-color:var(--accent);transform:translateY(-2px)}

/* ---------- Halo: invisible until hover/focus ---------- */
.card::before{
  content:"";position:absolute;inset:-8px;border-radius:calc(var(--radius) + 8px);
  background: conic-gradient(from 0deg, #ff6b00, #ff0000, #00bfff, #007bff, #ff6b00);
  opacity:0;filter: blur(12px);z-index:-1;transition:opacity .35s cubic-bezier(.2,.9,.2,1), transform .35s ease;
  transform: scale(.98);pointer-events:none}
.card:hover::before,.card:focus-within::before{opacity:0.7;transform:scale(1)}
.card:active::before{opacity:0.98;transform:scale(1.02);filter:blur(8px)}
.card.appear{} /* keeps JS timing intact – no visual effect */

/* ---------- CONTACT / SOCIALS ---------- */
.socials{display:flex;gap:1.2rem;justify-content:center;align-items:center;padding-top:.5rem}
.socials a{color:var(--muted);font-size:1.2rem}
.socials a:hover{color:var(--accent)}

/* ---------- MODALS ---------- */
.modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(2,6,23,0.65);z-index:9998;padding:1rem}
.modal[aria-hidden="false"]{display:flex}
.modal-card{width:min(760px,96%);background:#0f1114;color:#eaf2fb;padding:1rem;border-radius:12px;box-shadow:0 10px 40px rgba(0,0,0,.6)}
.modal-head{display:flex;justify-content:space-between;align-items:center}
.close{background:transparent;border:0;color:#9aa4b2;font-size:1.2rem}
.modal-row{display:flex;gap:.75rem}
.modal-row input,.modal-row select,.modal-card input,.modal-card textarea{width:100%;padding:.6rem;border-radius:8px;border:1px solid rgba(255,255,255,0.05);background:transparent;color:var(--text)}
.modal-foot{display:flex;gap:.75rem;justify-content:flex-end;margin-top:0.75rem}
.form-msg{color:var(--muted);margin-top:.5rem}
.chat-modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(2,6,23,0.85);z-index:10000}
.chat-modal[aria-hidden="false"]{display:flex}
.chat-modal-content{width:min(95vw,900px);height:min(95vh,720px);background:#0f1114;border-radius:12px;overflow:hidden;position:relative}
#chatFrame{width:100%;height:100%;border:0}
.thinking-bubble{position:absolute;top:12px;left:12px;padding:.5rem .75rem;background:#111;border-radius:8px;color:#cfd8e3;display:none}
.thinking-bubble[aria-hidden="false"]{display:block}

/* ---------- Responsiveness ---------- */
@media (max-width:900px){
  .hero-cta{grid-template-columns:1fr;gap:10px}
  .hamburger{display:block}
  nav.nav ul{position:fixed;right:-100%;top:60px;flex-direction:column;background:rgba(18,18,18,0.95);width:220px;height:100vh;padding:1.5rem;transition:right .25s}
  nav.nav ul.active{right:0}
}

/* ---------- Accessibility helpers ---------- */
.sr-only{position:absolute;width:1px;height:1px;overflow:hidden;clip:rect(1px,1px,1px,1px);white-space:nowrap}
:focus{outline:none}
button:focus,a:focus{box-shadow:var(--focus);border-radius:6px}

/* ---------------------------------------------------
   1.  KILL THE BLOBS
---------------------------------------------------- */
.animated-bg,
.animated-bg::before,
.animated-bg::after,
.noise {
  display: none;          /* removes blobs + noise */
}

/* ---------------------------------------------------
   2.  GREY-SCALE STRIPES FOR SECTIONS
---------------------------------------------------- */
/* base page = real black */
body {
  background: #000;
}

/* every section gets its own grey */
.section:nth-of-type(odd)  { background: #0a0a0a; }   /* almost black */
.section:nth-of-type(even) { background: #111111; }   /* 1 step lighter */

/* if you need finer control, target the IDs explicitly */
#home,
#portfolio,
#services            { background: #080808; }

#about,
#articles,
#contact             { background: #121212; }

/* keep cards dark but slightly transparent so the section
   colour shows through a little */
.card {
  background: rgba(25,25,25,.82);
}

/* ---------------------------------------------------
   3.  (optional) tiny separator between sections
---------------------------------------------------- */
.section + .section {
  box-shadow: inset 0  1px 0 0 rgba(255,255,255,.04);
}

/* ----------------------------------------------------------
   Knight chess icon – flat, stroked, mouse-tracking
----------------------------------------------------------- */
.chess-chip {
  background: none;          /* 1. kill the rectangle */
  backdrop-filter: none;
  box-shadow: none;
  padding: 0;                /* keep the wrapper for positioning */
}

.chess-icon {
  display: block;
  font-size: 20px;
  color: transparent;        /* 2. fill = transparent */
  -webkit-text-stroke: 1px var(--accent); /* thin orange border */
  text-stroke: 1px var(--accent);
  transform-origin: 50% 50%;
  transition: transform .15s ease-out;
}

/* 3. rotate on mouse-move (JS will add the --angle custom prop) */
.chess-icon {
  transform: rotate(var(--angle, 0deg));
}

/* final, subtle checkerboard */
#home::before {
  content:"";
  position:absolute;
  inset:0;
  z-index:-2;                /* push one layer further back */
  pointer-events:none;
  --line: rgba(160,160,160,.15);
  --size: 24px;
  background-image:
    repeating-linear-gradient(90deg,
      transparent 0 calc(var(--size) - 1px),
      var(--line) calc(var(--size) - 1px) var(--size)),
    repeating-linear-gradient(0deg,
      transparent 0 calc(var(--size) - 1px),
      var(--line) calc(var(--size) - 1px) var(--size));
}
/* ---------- HERO GRID + NEON NODES (Option 2) — robust version ---------- */
/* Place this at the end of style.css and hard-refresh the page */

/* ensure hero creates a stacking context and the grid sits *behind* hero content */
#home.hero { position: relative; overflow: hidden; z-index: 0; }

/* container for the svg grid */
#home.hero .hero-grid {
  position: absolute;
  inset: 0;
  z-index: -1;               /* behind hero text/content, above page background */
  pointer-events: none;
  display: block;
  opacity: 1;                /* keep visible by default */
}

/* svg should fill the area */
#home.hero .hero-grid-svg { width: 100%; height: 100%; display: block; }

/* Grid lines: ensure visible but subtle */
#home.hero .grid-lines { opacity: 0.95; mix-blend-mode: screen; stroke-linecap: round; }

/* Nodes: make sure SVG transforms behave consistently across browsers */
#home.hero .node {
  transform-origin: center center;       /* center of the element */
  transform-box: fill-box;               /* necessary for SVG transforms */
  will-change: transform, opacity, filter;
  opacity: 1;
  filter: drop-shadow(0 6px 14px rgba(0,0,0,0.45));
  mix-blend-mode: screen;
  transition: opacity .24s ease, transform .24s ease;
}

/* Stronger visibility for nodes so they are clearly visible across themes */
#home.hero .node { stroke: none; }

/* Staggered pulsing — GPU-friendly (scale only) */
#home.hero .node-a { animation: hero-node-pulse 3.6s cubic-bezier(.2,.9,.3,.95) infinite; }
#home.hero .node-b { animation: hero-node-pulse 4.2s cubic-bezier(.2,.9,.3,.95) infinite; animation-delay: .35s; }
#home.hero .node-c { animation: hero-node-pulse 3.2s cubic-bezier(.2,.9,.3,.95) infinite; animation-delay: .75s; }
#home.hero .node-d { animation: hero-node-pulse 4.0s cubic-bezier(.2,.9,.3,.95) infinite; animation-delay: 1.05s; }
#home.hero .node-e { animation: hero-node-pulse 3.9s cubic-bezier(.2,.9,.3,.95) infinite; animation-delay: 1.45s; }

@keyframes hero-node-pulse {
  0%   { transform: scale(.92); opacity:.82; filter: blur(0px) brightness(1); }
  50%  { transform: scale(1.18); opacity:1;    filter: blur(.6px) brightness(1.05); }
  100% { transform: scale(.92); opacity:.82; filter: blur(0px) brightness(1); }
}

/* connectors: keep extremely subtle */
#home.hero .connectors { opacity: 0.08; mix-blend-mode: screen; }

/* reduce density & intensity on small screens */
@media (max-width: 720px) {
  #home.hero .grid-lines { opacity: 0.26; }
  #home.hero .connectors { opacity: 0.05; }
  #home.hero .node { opacity: 0.95; }
}

/* accessibility: stop animations if user prefers reduced motion */
@media (prefers-reduced-motion: reduce) {
  #home.hero .node,
  #home.hero .node-a,
  #home.hero .node-b,
  #home.hero .node-c,
  #home.hero .node-d,
  #home.hero .node-e {
    animation: none !important;
    transform: none !important;
    opacity: .95 !important;
  }
}

#home.hero .grid-lines {
  stroke: url(#gridGradient); /* uses the gradient defined in index.html */
  stroke-width: 1;
  opacity: 0.85;              /* stronger visibility */
  mix-blend-mode: screen;
}
/* Fade the CSS checkerboard / subtle lines under #home so they disappear earlier */
#home::before {
  /* keep existing visuals but fade them vertically via mask */
  -webkit-mask-image: linear-gradient(to bottom, rgba(0,0,0,1) 0%, rgba(0,0,0,0) 55%);
  mask-image: linear-gradient(to bottom, rgba(0,0,0,1) 0%, rgba(0,0,0,0) 55%);
  -webkit-mask-size: 100% 100%;
  mask-size: 100% 100%;
  mask-repeat: no-repeat;
  /* safety: ensure pseudo stays behind SVG grid */
  z-index: -3;
  pointer-events: none;
}

.hero img,
.profile-pic {
  border: none !important;
  box-shadow: none !important;
  border-radius: 50%; /* keeps circular crop */
}

#typewrite {
  position: relative;
  min-height: 2.8rem;
  box-sizing: border-box;
  width: max-content; /* width adjusts to text length */
  max-width: 100%;
  margin: 0 auto;
  text-align: center;
  overflow: visible;
  white-space: nowrap; /* prevents wrapping */
}

#typewrite .tw-inner {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  display: inline-block;
  width: auto;
  max-width: none;
  padding: 0;
  margin: 0;
  text-align: center;
  line-height: 1.25;
  word-break: normal;
  hyphens: none;
}

/* On narrow screens allow small wrapping if absolutely necessary */
@media (max-width: 420px) {
  #typewrite {
    white-space: normal;
    width: calc(100% - 32px);
  }
  #typewrite .tw-inner {
    transform: translate(-50%, -50%);
  }
}

