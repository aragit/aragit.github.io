<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Medical Triage Agent Case Study | Arash Nicoomanesh</title>
  <meta name="description" content="Replacing fragile, hallucination-prone clinical chatbots with strict, governed execution graphs and Policy-as-Code."/>
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet"/>
  
  <style>
    :root {
      --dark: #121212; --darker: #0a0a0a; --gray: #9ca3af;
      --accent: #ff6b00; --accent-hover: #e66000; --code-bg: #1e1e1e;
    }
    * { margin:0; padding:0; box-sizing:border-box; }
    html { scroll-behavior: smooth; }
    body { background: var(--darker); color: #eaf2fb; font-family: 'Inter', sans-serif; line-height: 1.6; -webkit-font-smoothing: antialiased; }
    
    .container { max-width: 1100px; margin: 0 auto; padding: 0 20px; }
    
    /* ---------- header ---------- */
    header { position: sticky; top: 0; z-index: 100; background: rgba(0,0,0,0.8); backdrop-filter: blur(10px); border-bottom: 1px solid rgba(255,255,255,.05); }
    .header-inner { display: flex; align-items: center; justify-content: space-between; padding: 18px 0; }
    .logo { font-weight: 700; font-size: 1.3rem; display: flex; align-items: center; gap: 10px; color: #fff; text-decoration: none; }
    .logo i { color: var(--accent); }
    .back-btn { background: transparent; color: #cbd6df; border: 1px solid rgba(255,255,255,.1); padding: 8px 18px; border-radius: 50px; font-size: .9rem; text-decoration: none; display: inline-flex; align-items: center; gap: 8px; transition: .3s; }
    .back-btn:hover { border-color: var(--accent); color: var(--accent); }
    
    /* ---------- hero ---------- */
    .hero { padding: clamp(80px, 10vw, 100px) 0; border-bottom: 1px solid rgba(255,255,255,.05); background: radial-gradient(circle at top, rgba(255,107,0,0.05) 0%, var(--darker) 70%); text-align: center; }
    .badge { display: inline-block; background: rgba(255,107,0,0.1); color: var(--accent); border: 1px solid rgba(255,107,0,0.3); padding: 6px 14px; border-radius: 99px; font-size: 0.8rem; font-weight: 600; margin-bottom: 20px; letter-spacing: 1px; text-transform: uppercase; }
    .hero h1 { font-size: clamp(2.2rem, 4vw, 3.5rem); font-weight: 800; line-height: 1.15; margin-bottom: 24px; color: #fff; }
    .hero p { font-size: clamp(1.1rem, 2vw, 1.2rem); max-width: 800px; margin: 0 auto; color: var(--gray); font-weight: 400; }
    
    /* ---------- sections & grids ---------- */
    section { padding: clamp(60px, 8vw, 90px) 0; }
    .section-title { font-size: 2rem; color: #fff; margin-bottom: 40px; text-align: center; font-weight: 700; }
    
    .grid-3 { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; }
    .card { background: rgba(20,20,20,0.6); border: 1px solid rgba(255,255,255,.05); border-radius: 12px; padding: 32px; transition: .3s; }
    .card:hover { border-color: rgba(255,107,0,0.3); transform: translateY(-3px); }
    .card h3 { font-size: 1.3rem; margin-bottom: 15px; color: #fff; display: flex; align-items: center; gap: 10px; }
    .card h3 i { color: #f24e1e; }
    .card p { color: #a8aeb3; font-size: 0.95rem; }
    
    .arch-icon { color: var(--accent) !important; }
    
    /* ---------- code windows ---------- */
    .code-showcase { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-top: 40px; }
    @media(max-width: 900px){ .code-showcase { grid-template-columns: 1fr; } }
    
    .mac-window { background: var(--code-bg); border-radius: 10px; border: 1px solid rgba(255,255,255,0.1); overflow: hidden; box-shadow: 0 20px 40px rgba(0,0,0,0.6); }
    .mac-header { background: #2d2d2d; padding: 12px 16px; display: flex; align-items: center; gap: 8px; border-bottom: 1px solid rgba(255,255,255,0.05); }
    .mac-dot { width: 12px; height: 12px; border-radius: 50%; }
    .mac-dot.red { background: #ff5f56; } .mac-dot.yellow { background: #ffbd2e; } .mac-dot.green { background: #27c93f; }
    .mac-title { margin-left: auto; color: #858585; font-size: 0.8rem; font-family: 'JetBrains Mono', monospace; }
    
    pre { padding: 24px; overflow-x: auto; font-family: 'JetBrains Mono', monospace; font-size: 0.85rem; line-height: 1.6; color: #d4d4d4; }
    .string { color: #ce9178; }
    .keyword { color: #569cd6; }
    .number { color: #b5cea8; }
    .property { color: #9cdcfe; }
    .comment { color: #6a9955; font-style: italic; }
    
    /* ---------- stats ---------- */
    .stats-band { background: #121212; padding: 60px 0; border-top: 1px solid rgba(255,255,255,.05); border-bottom: 1px solid rgba(255,255,255,.05); }
    .stat-item h4 { font-size: 3rem; color: var(--accent); margin-bottom: 5px; font-weight: 800; }
    .stat-item p { color: #fff; font-weight: 500; font-size: 1.1rem; }
    
    footer { text-align: center; padding: 30px 0; color: #6b7280; font-size: .9rem; }
  
    /* ---------- cta buttons ---------- */
    .btn-primary { background: var(--accent); color: #fff; padding: 14px 32px; border-radius: 6px; font-weight: 600; text-decoration: none; display: inline-flex; align-items: center; gap: 10px; transition: .3s; border: 1px solid var(--accent); }
    .btn-primary:hover { background: var(--accent-hover); transform: translateY(-2px); box-shadow: 0 8px 25px rgba(255,107,0,.25); }
    .btn-secondary { background: transparent; color: #fff; padding: 14px 32px; border-radius: 6px; font-weight: 600; text-decoration: none; display: inline-flex; align-items: center; gap: 10px; transition: .3s; border: 1px solid rgba(255,255,255,0.2); }
    .btn-secondary:hover { border-color: #fff; transform: translateY(-2px); background: rgba(255,255,255,0.05); }
    .case-cta-band { padding: 60px 0; text-align: center; }
  </style>

</head>
<body>

<header>
  <div class="container">
    <div class="header-inner">
      <a href="../../index.html" class="logo"><i class="fa-solid fa-network-wired"></i>Arash Nicoomanesh</a>
      <a href="../../services/agentic-ai.html" class="back-btn"><i class="fa-solid fa-arrow-left-long"></i>Back to Swarm Architectures</a>
    </div>
  </div>
</header>

<section class="hero">
  <div class="container">
    <span class="badge">Enterprise Post-Mortem</span>
    <h1>Mission-Critical Medical Triage: A Neuro-Symbolic Approach</h1>
    <p>Replacing fragile, hallucination-prone clinical chatbots with strict, governed execution graphs and Policy-as-Code to achieve absolute HIPAA compliance.</p>
  </div>
</section>

<section>
  <div class="container">
    <h2 class="section-title">The GenAI Trap</h2>
    <p style="text-align:center; max-width:800px; margin:0 auto 40px auto; color:var(--gray);">A top-tier telehealth provider's initial generative AI prototype (built on a standard ReAct loop) was shut down by compliance teams after the LLM attempted to autonomously prescribe medication. Here is why the "chatbot" paradigm failed them:</p>
    
    <div class="grid-3">
      <div class="card">
        <h3><i class="fa-solid fa-triangle-exclamation"></i> The Hallucination Cascade</h3>
        <p>If the Electronic Health Record (EHR) API returned an unexpected 500 error, the ReAct agent panicked and hallucinated fake patient history to fulfill its core prompt, creating massive medical liability.</p>
      </div>
      <div class="card">
        <h3><i class="fa-solid fa-clock-rotate-left"></i> Temporal State Decay</h3>
        <p>Because the agent lacked explicit, durable memory states, it frequently suffered from context-window decay—forgetting critical drug allergies mentioned earlier in the clinical intake session.</p>
      </div>
      <div class="card">
        <h3><i class="fa-solid fa-bomb"></i> Zero Blast-Radius Containment</h3>
        <p>There was no physical barrier preventing the LLM from triggering a prescription API. It was only stopped by a "system prompt" telling it not to—which is mathematically provable to be vulnerable to jailbreaks.</p>
      </div>
    </div>
  </div>
</section>

<section style="background: rgba(20,20,20,0.3); border-top: 1px solid rgba(255,255,255,.02);">
  <div class="container">
    <h2 class="section-title">The Neuro-Symbolic Architecture</h2>
    
    <div class="grid-3">
      <div class="card" style="border-top: 3px solid var(--accent);">
        <h3><i class="fa-solid fa-eye arch-icon"></i> 1. FHIR Integration (Perception)</h3>
        <p>The system securely ingests symptoms via a typed FHIR interface. PII/PHI is immediately redacted locally before any diagnostic data touches the LLM payload, ensuring absolute data privacy.</p>
      </div>
      <div class="card" style="border-top: 3px solid var(--accent);">
        <h3><i class="fa-solid fa-brain arch-icon"></i> 2. Schema-Constrained Reasoning (The Brain)</h3>
        <p>We distilled a reasoning engine specifically trained for schema adherence. Instead of "talking" to the patient, the LLM ingests symptoms and outputs a strict JSON execution graph for deterministic routing.</p>
      </div>
      <div class="card" style="border-top: 3px solid var(--accent);">
        <h3><i class="fa-solid fa-shield-halved arch-icon"></i> 3. Policy-as-Code (The Shield)</h3>
        <p>Before the execution engine processes the graph, it is intercepted by an Open Policy Agent (OPA) sidecar. If the plan attempts an illegal medical action, it is blocked deterministically at the network layer.</p>
      </div>
    </div>

    <div class="code-showcase">
      
      <div class="mac-window">
        <div class="mac-header">
          <div class="mac-dot red"></div><div class="mac-dot yellow"></div><div class="mac-dot green"></div>
          <div class="mac-title">1_execution_plan.json</div>
        </div>
        <pre><code><span class="comment">// The LLM acts purely as a Planner.</span>
<span class="comment">// It outputs this strict, predictable execution payload.</span>

{
  <span class="property">"triage_id"</span>: <span class="string">"TRG-992-A"</span>,
  <span class="property">"patient_status"</span>: {
    <span class="property">"acuity_level"</span>: <span class="number">2</span>,
    <span class="property">"primary_symptom"</span>: <span class="string">"chest_pain"</span>,
    <span class="property">"onset_duration_mins"</span>: <span class="number">45</span>
  },
  <span class="property">"execution_graph"</span>: [
    {
      <span class="property">"step"</span>: <span class="number">1</span>,
      <span class="property">"action"</span>: <span class="string">"QUERY_EHR"</span>,
      <span class="property">"parameters"</span>: {<span class="property">"check_flags"</span>: [<span class="string">"cardiac_history"</span>, <span class="string">"blood_thinners"</span>]}
    },
    {
      <span class="property">"step"</span>: <span class="number">2</span>,
      <span class="property">"action"</span>: <span class="string">"ROUTE_TO_SPECIALIST"</span>,
      <span class="property">"parameters"</span>: {<span class="property">"department"</span>: <span class="string">"CARDIOLOGY"</span>, <span class="property">"priority"</span>: <span class="string">"HIGH_URGENCY"</span>}
    }
  ]
}</code></pre>
      </div>

      <div class="mac-window">
        <div class="mac-header">
          <div class="mac-dot red"></div><div class="mac-dot yellow"></div><div class="mac-dot green"></div>
          <div class="mac-title">2_clinical_guardrail.rego</div>
        </div>
        <pre><code><span class="comment"># System prompts fail. We use Open Policy Agent (OPA) </span>
<span class="comment"># to physically block illegal medical actions at the network layer.</span>

<span class="keyword">package</span> triage.governance

<span class="keyword">default</span> allow_execution = <span class="keyword">false</span>

<span class="comment"># Allow routing to specialists</span>
allow_execution {
    input.action == <span class="string">"ROUTE_TO_SPECIALIST"</span>
    input.priority <span class="keyword">in</span> [<span class="string">"LOW"</span>, <span class="string">"MEDIUM"</span>, <span class="string">"HIGH_URGENCY"</span>]
}

<span class="comment"># BLOCK ALL AUTONOMOUS PRESCRIPTIONS (Zero Trust)</span>
deny_execution[msg] {
    input.action == <span class="string">"ISSUE_PRESCRIPTION"</span>
    msg := <span class="string">"FATAL POLICY VIOLATION: Agents are strictly prohibited from writing prescriptions. Cryptographic MD signature required."</span>
}</code></pre>
      </div>
      
    </div>
  </div>
</section>

<section class="stats-band">
  <div class="container">
    <div class="grid-3" style="text-align:center;">
      <div class="stat-item">
        <h4>100%</h4>
        <p>HIPAA Compliance Guarantee</p>
        <span style="font-size:0.85rem; color:var(--gray);">Enabled by physical OPA intercept sidecars.</span>
      </div>
      <div class="stat-item">
        <h4>68%</h4>
        <p>Token Cost Reduction</p>
        <span style="font-size:0.85rem; color:var(--gray);">By eliminating infinite ReAct loops.</span>
      </div>
      <div class="stat-item">
        <h4>Zero</h4>
        <p>Hallucinated Actions</p>
        <span style="font-size:0.85rem; color:var(--gray);">Secured by deterministic execution skeletons.</span>
      </div>
    </div>
  </div>
</section>

<section class="case-cta-band">
  <div class="container">
    <h2 style="font-size: 2rem; color: #fff; margin-bottom: 30px;">Ready to architect your clinical workflow?</h2>
    <div style="display: flex; justify-content: center; gap: 20px; flex-wrap: wrap;">
      <a href="https://github.com/aragit" target="_blank" class="btn-secondary">
        <i class="fa-brands fa-github"></i> View GitHub Profile
      </a>
      <a href="mailto:your.email@example.com?subject=Inquiry: Enterprise AI Architecture" class="btn-primary">
        <i class="fa-solid fa-envelope"></i> Discuss Your Architecture
      </a>
    </div>
  </div>
</section>

<footer>
  <div class="container">
    © <span id="yr"></span> Arash Nicoomanesh · Agentic AI Architecture
  </div>
</footer>

<script>document.getElementById('yr').textContent = new Date().getFullYear();</script>
</body>
</html>
